#!/usr/bin/perl -w
#$Source: /home/bbennett/pass/archive/Posda/bin/test/TestMakeMatchPat.pl,v $
#$Date: 2014/09/04 17:01:31 $
#$Revision: 1.1 $
#
#Copyright 2008, Bill Bennett
# Part of the Posda package
# Posda may be copied only under the terms of either the Artistic License or the
# GNU General Public License, which may be found in the Posda Distribution,
# or at http://posda.com/License.html
#
use strict;
use Posda::Dataset;
my @lines = (
  "(0054,0013)",
  "(0054,0013)[0](0054,0014)",
  "(0054,0013)[0](0054,0015)",
  "(0054,0016)",
  "(0054,0016)[0](0018,0031)",
  "(0054,0016)[0](0018,1071)",
  "(0054,0016)[0](0018,1072)",
  "(0054,0016)[0](0018,1073)",
  "(0054,0016)[0](0018,1074)",
  "(0054,0016)[0](0018,1075)",
  "(0054,0016)[0](0018,1076)",
  "(0054,0016)[0](0018,1078)",
  "(0054,0016)[0](0018,1079)",
  "(0054,0016)[0](0054,0300)",
  "(0054,0016)[0](0054,0300)[0](0008,0100)",
  "(0054,0016)[0](0054,0300)[0](0008,0102)",
  "(0054,0016)[0](0054,0300)[0](0008,0104)",
  "(0054,0016)[0](0054,0304)",
  "(0054,0016)[0](0054,0304)[0](0008,0100)",
  "(0054,0016)[0](0054,0304)[0](0008,0102)",
  "(0054,0016)[0](0054,0304)[0](0008,0104)",
  "(0054,0081)",
  "(0054,0202)",
  "(0054,0410)",
  "(0054,0410)[0](0008,0100)",
  "(0054,0410)[0](0008,0102)",
  "(0054,0410)[0](0008,0104)",
  "(0054,0412)",
  "(0054,0412)[0](0008,0100)",
  "(0054,0412)[0](0008,0102)",
  "(0054,0412)[0](0008,0104)",
  "(0054,0414)",
  "(0054,0414)[0](0008,0100)",
  "(0054,0414)[0](0008,0102)",
  "(0054,0414)[0](0008,0104)",
);
for my $line (@lines){
  my($pat, $indices) = Posda::Dataset->MakeMatchPat($line);
  print "************\nSig: $line\nPat: $pat\nIndices: ";
  for my $i (0 .. $#{$indices}){
    print "$indices->[$i]";
    unless($i == $#{$indices}){ print ", " }
  }
  print "\n";
}
